<<<<<<< HEAD
\documentclass[landscape,final,archE1,fontscale=0.32]{baposter}
=======
\documentclass[landscape,final,archE1,fontscale=0.35]{baposter}
>>>>>>> 8ba9bae96d01aa918ae866fbae0fa5fa04674800

\usepackage{calc}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{relsize}
\usepackage{rotating}
\usepackage{bm}
\usepackage{url}
\usepackage{setspace}

\usepackage{tabularx}
\usepackage{graphicx}

\usepackage{palatino}
\usepackage{booktabs, multicol, multirow}

\usepackage[margin=1em]{caption}
% package I added
\usepackage{sidecap}
\usepackage{floatrow}
\usepackage{wrapfig}


\bibliographystyle{plain}

\graphicspath{{images/}{../images/}}
\usetikzlibrary{calc}

\newcommand{\SET}[1]  {\ensuremath{\mathcal{#1}}}
\newcommand{\MAT}[1]  {\ensuremath{\boldsymbol{#1}}}
\newcommand{\VEC}[1]  {\ensuremath{\boldsymbol{#1}}}
\newcommand{\Video}{\SET{V}}
\newcommand{\video}{\VEC{f}}
\newcommand{\track}{x}
\newcommand{\Track}{\SET T}
\newcommand{\LMs}{\SET L}
\newcommand{\lm}{l}
\newcommand{\PosE}{\SET P}
\newcommand{\posE}{\VEC p}
\newcommand{\negE}{\VEC n}
\newcommand{\NegE}{\SET N}
\newcommand{\Occluded}{\SET O}
\newcommand{\occluded}{o}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%% Some math symbols used in the text
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Multicol Settings
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\setlength{\columnsep}{1.5em}
\setlength{\columnseprule}{0mm}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Save space in lists. Use this after the opening of the list
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\compresslist}{%
\setlength{\itemsep}{1pt}%
\setlength{\parskip}{0pt}%
\setlength{\parsep}{0pt}%
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Begin of Document
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Here starts the poster
%%%---------------------------------------------------------------------------
%%% Format it to your taste with the options
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Define some colors

\definecolor{lightblue}{rgb}{0.145,0.6666,1}

\hyphenation{resolution occlusions}
%%
\begin{poster}%
  % Poster Options
  {
  % Show grid to help with alignment
  grid=false,
  columns=3,
  % Column spacing
  colspacing=1.6em,
  % Color style
  bgColorOne=white,
  bgColorTwo=white,
  borderColor=lightblue,
  headerColorOne=black,
  headerColorTwo=lightblue,
  headerFontColor=white,
  boxColorOne=white,
  boxColorTwo=lightblue,
  % Format of textbox
  textborder=rectangle,
  % Format of text header
  eyecatcher=true,
  headerborder=closed,
  headerheight=0.12\textheight,
%  textfont=\sc, An example of changing the text font
  headershape=roundedright,
  headershade=shadelr,
  headerfont=\Large\bf, %Sans Serif
  textfont={\setlength{\parindent}{1.5em}},
  boxshade=plain,
%  background=shade-tb,
  background=plain,
  linewidth=2pt
  }
  % ICSI logo
  {\includegraphics[height=7.5em]{images/ICSI_color}}
  % Title
  {\bf{Parallelizing Neural Network Training using \\Model Averaging and Butterfly Mixing}}
  % Authors
  {Hang Su$^1$$^,$$^2$, Haoyu Chen$^2$\\
  $^1$ International Computer Science Institute, CA, USA ~~~ $^2$ Dept. of EECS, UC Berkeley, CA, USA }
  % University logo
  {% The makebox allows the title to flow into the logo, this is a hack because of the L shaped logo.
    \includegraphics[height=7.5em]{images/ucbseal}
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Now define the boxes that make up the poster
%%%---------------------------------------------------------------------------
%%% Each box has a name and can be placed absolutely or relatively.
%%% The only inconvenience is that you can only specify a relative position
%%% towards an already declared box. So if you have a box attached to the
%%% bottom, one to the top and a third one which should be in between, you
%%% have to specify the top and bottom boxes before you specify the middle
%%% box.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    %
    % A coloured circle useful as a bullet with an adjustably strong filling
    \newcommand{\colouredcircle}{%
      \tikz{\useasboundingbox (-0.2em,-0.32em) rectangle(0.2em,0.32em); \draw[draw=black,fill=lightblue,line width=0.03em] (0,0) circle(0.18em);}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\headerbox{Goal}{name=goal,column=0,row=0}{
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{itemize}
\setlength \itemsep{0.2em}
  \item Extend kaldi DNN (nnet2) for more flexible distributed GPU systems.
  \item Apply three network (all-reduce, butterfly, and ring) communication strategies to train DNN.
  \item Compare the convergency and speed among these three network styles.
\end{itemize}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\headerbox{Background}{name=background,column=0,below=goal}{
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Condition}
\begin{itemize}
\item DNN is a powerful model for classification, but need long training time.
\item GPU is recommended to speed up the training process.
\item With mutiple GPUs, one of the bottleneck is the data communication among the nodes.
\item Mix-butterfly network is applied to reduce the communication amount for gradient descent method in distributed convex optimization problems.
\end{itemize}

\subsection*{Approaches}
\begin{itemize}
\item Apply mix-butterfly and ring network communication strategy to speed up the DNN training process in distributed GPUs.
\item Investigate the coverage speed of different network communication styles for training of DNN (non-convex optimization).

\end{itemize}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\headerbox{Setup}{name=setup,column=0,above=bottom,below=background}{
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{itemize}
\setlength \itemsep{0.2em}
\item OpenMPI is used to communicate among the nodes in the network.
\item ?? Hang could you add some points here?
\\

\end{itemize}
\begin{center}
\includegraphics[width=0.45\linewidth]{framework.jpg}
\end{center}
{\footnotesize The figure for the system's framework. When we plan to communicate the parameters, we need to pass the message from GPU to CPU, and send message from one CPU to another CPU by OpenMPI. }

}
%%%%%%%%%%%%%%%%%%%%%
%\headerbox{}{name=setup2, column = 1, row = 0}{

%The figure for the system's framework. 
%\begin{wrapfigure}{r}{0.5\textwidth}
%  \vspace{-30pt}
%  \begin{center}
%    \includegraphics[width=1.0\textwidth]{framework.jpg}
%  \end{center}
%  \vspace{-20pt}
  
%  \vspace{-10pt}
%\end{wrapfigure}
%When we plan to communicate the parameters, we need to pass the message from GPU to CPU, and send message from one CPU to another CPU by OpenMPI. 

%}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\headerbox{Parallelization Strategy}{name=strategy,column=1,row=0}{
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{All-reduce network}
In all-reduce network, for each $n$ iterations, all the nodes send weights
\begin{wrapfigure}{r}{0.45\textwidth}
  \vspace{-70pt}
  \begin{center}
    \includegraphics[width=0.9\textwidth]{allreduce.jpg}
  \end{center}
  \vspace{-20pt}
  
  \vspace{-10pt}
\end{wrapfigure}
  to the $1^{st}$ node. The $1^{st}$ node will average the received weights, and boardcast the average weight to all the nodes. After one communication time, the information is fully communicated. The communication is the heaviest. 
\\


\subsection*{Mix-butterfly network}
In mix-butterfly network, for each $n$ iterations, one node
\begin{wrapfigure}{r}{0.45\textwidth}
  \vspace{-70pt}
  \begin{center}
    \includegraphics[width=0.9\textwidth]{butterfly.jpg}
  \end{center}
  \vspace{-20pt}
  
  \vspace{-10pt}
\end{wrapfigure}
 will only communicate with one another node, and average the recieved weight with the origial weight. After $log(nodeSize)$ communication time, the information is fully communicated. The communication is smaller than that in all-reduce network.

\subsection*{Ring network}
In ring network, for each $n$ iterations, each node will
\begin{wrapfigure}{r}{0.45\textwidth}
  \vspace{-70pt}
  \begin{center}
    \includegraphics[width=0.9\textwidth]{ring.jpg}
  \end{center}
  \vspace{-20pt}
  
  \vspace{-10pt}
\end{wrapfigure}
 send his weight only to the next node. After reciving message from the previous node, each node averages the weight as the start point for next iteration. After $nodeSize$ communication time, the information is fully communicated. The communication is the same as the butterfly, but the latency is less. 



}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\headerbox{Experiments}{name=experiments,column=2,row=0}{
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Convergence rate}
% a graph of objective function vs iterations
% natural gradient vs normal gradient 
\begin{center}
\includegraphics[width=0.9\linewidth]{tandem.png}
\end{center}


\subsection*{Scaling factor}
\begin{center}
  \captionof{table}{Speedup and scaling factor}
  \begin{tabular}{c|c|c|c|c|c}
    \hline
    Nodes   & 1   & 2   & 4   & 8   & 16 \\
    \hline
    Time    &  &  &  &  &\\
    speedup &  &  &  &  &\\
    \hline
  \end{tabular}
\end{center}

\subsection*{Recognition Results}
\begin{center}
  \captionof{table}{Word error rate on different setup}
  \begin{tabular}{c|c|c|c|c|c}
    \hline
    Nodes       & 1   & 2   & 4   & 8   & 16 \\
    \hline
    allreduce  &  &  &  &  & \\
    butterfly   &  &  &  &  & \\
    ring        &  &  &  &  & \\
    \hline
  \end{tabular}
\end{center}

}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\headerbox{Conclusion}{name=conclusion,column=2,below=experiments,above=bottom}{
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{itemize}
\setlength \itemsep{0.2em}
\item Neural network training can be efficiently speed up by using model averaging techniques.
\item Natural gradient method contributes to the convergence rate in model averaging setup.
\item Butterfly mixing can reduce communication time in a further step.
\end{itemize}
}

\end{poster}

\end{document}
